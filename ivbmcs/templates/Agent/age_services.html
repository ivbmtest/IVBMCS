{% extends "Agent/main_layout.html" %}

{% load static %}

{% block content %}




<style>

body{
  height: 100vh;
}

#body_header
{

    width:auto;
    margin:0px auto;
    text-align:center;
    font-size:20px;
   
}

h1 {
  margin: 0;
  text-align: center;
}


#myTabs a  {
  color: rgb(9, 160, 52);
  font-size: 14px;
}

#myTabContent h4{
color: rgb(8, 109, 196);
}

#myTabContent table{
  background-color: #f4f7f8;
  font-size: .8rem;
}

@media (max-width: 767.98px) {
  #myTabs a{
    font-size: 12px;
  }
}

@media (max-width:576px) {
  #myTabs a{
    font-size: 7px;
  }
}

</style> 

<div class="home-content">
    <div class="container-fluid">
        <div id="body_header">
          <!--This is a division tag for body header-->
          <h1>Your Services</h1>
          
        </div>
    
  <!-- Bootstrap 4 Tabs -->
  <div class="container mt-4" style="padding: 1rem;border-radius: 10px;background-color: #e8eeef;">
    <ul class="nav nav-tabs w-100" id="myTabs">
      <li class="nav-item">
        <a class="nav-link active" id="tab1-tab" data-toggle="tab" href="#tab1">All</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="tab2-tab" data-toggle="tab" href="#tab2">Process</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" id="tab3-tab" data-toggle="tab" href="#tab3">Completed</a>
      </li>

      <li class="nav-item">
        <a class="nav-link" id="tab4-tab" data-toggle="tab" href="#tab4">Pending</a>
      </li>
    </ul>

    <div class="tab-content mt-2"  id="myTabContent">
      <div class="tab-pane fade show active" id="tab1">
        <h4>All Services</h4>
        <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
   <th>No.</th>
   <th>Name</th>
   <th>Service Name</th>
   <th>Payment</th>
   <th>Status</th>
   <th>Apply Date</th>
   <th>Complete Date</th>          
            </tr>
        </thead>
        <tbody>
          {% if my_service %}
          {% for val in my_service %}

            <tr>
             
                <td>{{forloop.counter}}</td>
                <td><a href="{% url 'userpro_agent' %}?xid={{val.user_id.id}}" title="View Profile">{{val.user_id.first_name}}</a></td>
                <td>{{val.service}}</td>
                
                <td>{% if val.payment %} Success <i class='bx bx-check-shield text-success' style="font-size: 1rem;"></i>  {% else %} Pending <i class='bx bx-error-alt text-danger'></i>  {% endif %}</td>
                <!-- <td>{{val.msg}}</td> -->
                <!-- <td>{{val.documents}}</td> -->
                <!-- <td>{{val.taken_by}}</td>  <i class='bx bx-x-circle'>x</i> <i class='bx bxs-check-circle'></i>-->
                <td>{% if val.status == '0' %}Not Ready <i class='bx bx-x-circle text-danger'></i>{% elif val.status == '1'%}Process<i class='bx bx-loader text-warning'></i>{% else %}Complete<i class='bx bxs-check-circle text-success'></i>{% endif %}</td>
                <td>{{val.created_at}}</td>
                <td>-- -- ----</td>                
            </tr>
            {% endfor %}
           {% else %}
          
           <p class="text-danger text-center">No Services yet</p>
           {% endif %}
              </tbody>
        </table>
      </div>
      </div>


      <div class="tab-pane fade" id="tab2">
        <h4>Processing Services</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
     <th>No.</th>
     <th>Name</th>
     <th>Service Name</th>
     <th>Payment</th>
   
     <th>Apply Date</th>
     <th>Complete Date</th>          
              </tr>
          </thead>
          <tbody>
           
            {% for val in my_service %}
            {% if val.status == '1' %}
              <tr>
               
                  <td>{{forloop.counter}}</td>
                  <td>{{val.user_id.first_name}}</td>
                  <td>{{val.service}}</td>
                  
                  <td>{% if val.payment %} Success <i class='bx bx-check-shield text-success' style="font-size: 1rem;"></i>  {% else %} Pending <i class='bx bx-error-alt text-danger'></i>  {% endif %}</td>
                  <!-- <td>{{val.msg}}</td> -->
                  <!-- <td>{{val.documents}}</td> -->
                  <!-- <td>{{val.taken_by}}</td> -->           
                  <td>{{val.created_at}}</td>
                  <td>-- -- ----</td>                 
              </tr>
              {% endif %}
              {% endfor %}
                </tbody>
          </table>
        </div>
      </div>


      <div class="tab-pane fade" id="tab3">
        <h4>Completed</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
     <th>No.</th>
     <th>Name</th>
     <th>Service Name</th>
     <th>Payment</th>
   
     <th>Apply Date</th>
     <th>Complete Date</th>          
              </tr>
          </thead>
          <tbody>
            {% for val in my_service %}
            {% if val.status == '2' %}
              <tr>
               
                  <td>{{forloop.counter}}</td>
                  <td>{{val.user_id.first_name}}</td>
                  <td>{{val.service}}</td>
                  
                  <td>{% if val.payment %} Success <i class='bx bx-check-shield text-success' style="font-size: 1rem;"></i>  {% else %} Pending <i class='bx bx-error-alt text-danger'></i>  {% endif %}</td>
                  <!-- <td>{{val.msg}}</td> -->
                  <!-- <td>{{val.documents}}</td> -->
                  <!-- <td>{{val.taken_by}}</td> -->
                
                  <td>{{val.created_at}}</td>
                  <td>-- -- ----</td>
                  
                  
              </tr>
             
              {% endif %}
              {% endfor %}
              <tr>
                </tbody>
          </table>
        </div>
      </div>



      <div class="tab-pane fade" id="tab4">
        <h4>Pending</h4>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
     <th>No.</th>
     <th>Name</th>
     <th>Service Name</th>
     <th>Payment</th>
     <th>Apply Date</th>
     <th>Complete Date</th>          
              </tr>
          </thead>
          <tbody>
            {% for val in my_service %}

            {% if val.status == '0' or val.payment == false %}
              <tr>
               
                  <td>{{forloop.counter}}</td>
                  <td>{{val.user_id.first_name}}</td>
                  <td>{{val.service}}</td>
                  
                  <td>{% if val.payment %} Success <i class='bx bx-check-shield text-success' style="font-size: 1rem;"></i>  {% else %} Pending <i class='bx bx-error-alt text-danger'></i>  {% endif %}</td>
                  <!-- <td>{{val.msg}}</td> -->
                  <!-- <td>{{val.documents}}</td> -->
                  <!-- <td>{{val.taken_by}}</td> -->
                 
                  <td>{{val.created_at}}</td>
                  <td>-- -- ----</td>
                  
                  
              </tr>
           
              {% endif %}
              {% endfor %}
              <tr>
                </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>



           
    </div>
</div>   




{% endblock content %}
</section>